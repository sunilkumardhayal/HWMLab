<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HWM Lab - IIT Gandhinagar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hero-bg {
            background-color: #111827;
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.1) 1px, transparent 0);
            background-size: 2rem 2rem;
        }
        .page-section {
            display: none;
            min-height: calc(100vh - 80px); /* Full height minus header */
        }
        .page-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .nav-link.active {
            color: #4f46e5;
            font-weight: 600;
        }
        .game-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
         .team-card, .player-card, .auction-card, .player-pool-card, .info-card {
            background-color: #1f2937;
            border: 1px solid #374151;
        }
        .btn { transition: background-color 0.2s, transform 0.2s; }
        .btn:hover { transform: scale(1.05); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .timer-container { position: relative; width: 100px; height: 100px; margin: 1rem auto; }
        .timer-svg { transform: scaleX(-1) rotate(-90deg); width: 100%; height: 100%; }
        .timer-circle-bg { fill: none; stroke: #374151; stroke-width: 8; }
        .timer-circle-progress { fill: none; stroke: #4f46e5; stroke-width: 8; stroke-linecap: round; transition: stroke-dashoffset 1s linear, stroke 0.5s; }
        .timer-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2rem; font-weight: bold; }
        .highest-bidder-glow { border-color: #f59e0b; box-shadow: 0 0 15px rgba(245, 158, 11, 0.5); }
        .confetti { position: absolute; width: 10px; height: 10px; background-color: #f00; opacity: 0; animation: confetti-fall 3s ease-out forwards; }
        @keyframes confetti-fall {
            0% { opacity: 1; transform: translateY(0) rotateZ(0); }
            100% { opacity: 0; transform: translateY(100vh) rotateZ(720deg); }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">

    <!-- Header Section -->
    <header id="header" class="bg-white/90 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-200">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" data-target="home" class="nav-link text-2xl font-bold text-gray-900">HWM Lab</a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#" data-target="home" class="nav-link active text-gray-600 hover:text-indigo-600 transition duration-300">Home</a>
                <a href="#" data-target="games" class="nav-link text-gray-600 hover:text-indigo-600 transition duration-300">Games</a>
                <a href="#" data-target="research" class="nav-link text-gray-600 hover:text-indigo-600 transition duration-300">Research</a>
                <a href="#" data-target="people" class="nav-link text-gray-600 hover:text-indigo-600 transition duration-300">People</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100 focus:outline-none" aria-label="Toggle mobile menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4"x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#" data-target="home" class="nav-link block py-2 text-gray-600 hover:text-indigo-600">Home</a>
            <a href="#" data-target="games" class="nav-link block py-2 text-gray-600 hover:text-indigo-600">Games</a>
            <a href="#" data-target="research" class="nav-link block py-2 text-gray-600 hover:text-indigo-600">Research</a>
            <a href="#" data-target="people" class="nav-link block py-2 text-gray-600 hover:text-indigo-600">People</a>
        </div>
    </header>

    <main>
        <!-- Home Page -->
        <section id="home" class="page-section active">
            <div class="hero-bg text-white flex items-center justify-center" style="min-height: calc(100vh - 80px);">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4">HWM Lab Sports & Recreation</h1>
                    <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto mb-8">Welcome to the official hub for all sporting events at the Hydraulics and Water Management Lab.</p>
                    <a href="#" data-target="games" class="nav-link bg-indigo-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-indigo-600 transition duration-300 transform hover:scale-105 shadow-lg">Explore Events</a>
                </div>
            </div>
        </section>

        <!-- Games Hub Page -->
        <section id="games" class="page-section py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-16">Lab Games</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                    <div class="game-card bg-gray-50 rounded-lg shadow-lg overflow-hidden text-center p-8 flex flex-col items-center">
                        <div class="text-6xl mb-4">üèê</div><h3 class="text-2xl font-bold mb-4">Volleyball</h3>
                        <p class="text-gray-600 mb-6 flex-grow">Tournaments, auctions, and match results. Check out the latest from the court.</p>
                        <button class="game-details-btn bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition" data-game="volleyball">View Details</button>
                    </div>
                    <div class="game-card bg-gray-50 rounded-lg shadow-lg overflow-hidden text-center p-8 flex flex-col items-center">
                        <div class="text-6xl mb-4">üèè</div><h3 class="text-2xl font-bold mb-4">Cricket</h3>
                        <p class="text-gray-600 mb-6 flex-grow">Updates on upcoming cricket matches and team selections.</p>
                        <button class="game-details-btn bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition" data-game="cricket">View Details</button>
                    </div>
                    <div class="game-card bg-gray-50 rounded-lg shadow-lg overflow-hidden text-center p-8 flex flex-col items-center">
                        <div class="text-6xl mb-4">üè∏</div><h3 class="text-2xl font-bold mb-4">Badminton</h3>
                        <p class="text-gray-600 mb-6 flex-grow">Follow the lab's badminton league and player rankings.</p>
                        <button class="game-details-btn bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition" data-game="badminton">View Details</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Volleyball Summary Page -->
        <section id="volleyball-details" class="page-section py-20 bg-gray-50">
             <div class="container mx-auto px-6">
                <button class="back-to-games-btn mb-8 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300">&larr; Back to Games</button>
                <h2 class="text-4xl font-bold text-center mb-4">üèê Volleyball Tournament</h2>
                <p class="text-center text-gray-500 mb-12">Summary of the August 2025 Tournament</p>
                <div class="text-center mb-12">
                    <button class="new-auction-btn bg-indigo-600 text-white px-8 py-3 rounded-lg hover:bg-indigo-700 transition text-lg font-semibold" data-game="volleyball">Launch New Auction Tool</button>
                </div>
                <div class="bg-white p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold text-center mb-8">Match Summary: Team Magnet vs Team SKY</h3>
                    <div class="bg-gray-50 p-6 rounded-lg shadow-sm text-center max-w-2xl mx-auto mb-10">
                        <div class="flex justify-around items-center"><div class="text-2xl font-bold text-orange-500">Team Magnet</div><div class="text-5xl font-bold">4 - 1</div><div class="text-2xl font-bold text-cyan-500">Team SKY</div></div>
                        <p class="mt-2 font-semibold text-green-600">üèÜ Winner: Team Magnet</p><p class="text-sm text-gray-500 mt-2">üìÖ August 23rd, 2025</p>
                    </div>
                    <div class="max-w-md mx-auto mb-12">
                        <h4 class="text-xl font-semibold text-center mb-4">Game-by-Game Score</h4>
                        <ul class="space-y-2 text-center"><li class="bg-gray-50 p-3 rounded-md">Game 1: <span class="font-bold text-orange-500">Team Magnet</span> won 25-13</li><li class="bg-gray-50 p-3 rounded-md">Game 2: <span class="font-bold text-cyan-500">Team SKY</span> won 25-23</li><li class="bg-gray-50 p-3 rounded-md">Game 3: <span class="font-bold text-orange-500">Team Magnet</span> won 25-18</li><li class="bg-gray-50 p-3 rounded-md">Game 4: <span class="font-bold text-orange-500">Team Magnet</span> won 25-16</li><li class="bg-gray-50 p-3 rounded-md">Game 5: <span class="font-bold text-orange-500">Team Magnet</span> won 25-9</li></ul>
                    </div>
                    <div class="text-center mb-12">
                        <h4 class="text-xl font-semibold mb-4">üèÜ Man of the Series üèÜ</h4>
                        <div class="inline-block bg-yellow-100 p-4 rounded-lg"><img src="https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sus.jpg" alt="Sushil Kumar Jaiswal" class="w-20 h-20 rounded-full mx-auto mb-2 border-4 border-yellow-400"><p class="font-bold text-lg">Sushil Kumar Jaiswal</p><p class="text-orange-600 font-semibold">(Team Magnet)</p></div>
                    </div>
                    <div>
                        <h4 class="text-xl font-semibold text-center mb-6">Match Day Lineups</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div id="v-team2Result" class="bg-gray-50 p-6 rounded-lg shadow-sm"></div><div id="v-team1Result" class="bg-gray-50 p-6 rounded-lg shadow-sm"></div></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cricket Summary Page -->
        <section id="cricket-details" class="page-section py-20 bg-gray-50">
             <div class="container mx-auto px-6">
                <button class="back-to-games-btn mb-8 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300">&larr; Back to Games</button>
                <h2 class="text-4xl font-bold text-center mb-4">üèè Cricket Tournament</h2>
                 <p class="text-center text-gray-500 mb-12">No tournaments yet. Plan the next one!</p>
                <div class="text-center mb-12">
                    <button class="new-auction-btn bg-indigo-600 text-white px-8 py-3 rounded-lg hover:bg-indigo-700 transition text-lg font-semibold" data-game="cricket">Launch New Auction Tool</button>
                </div>
                 <div class="bg-white p-8 rounded-lg shadow-lg text-center">
                      <h4 class="text-xl font-semibold text-center mb-6">Past Results</h4>
                      <p class="text-gray-500">No past matches recorded.</p>
                 </div>
            </div>
        </section>

        <!-- Badminton Summary Page -->
        <section id="badminton-details" class="page-section py-20 bg-gray-50">
             <div class="container mx-auto px-6">
                <button class="back-to-games-btn mb-8 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300">&larr; Back to Games</button>
                <h2 class="text-4xl font-bold text-center mb-4">üè∏ Badminton Tournament</h2>
                 <p class="text-center text-gray-500 mb-12">No tournaments yet. Plan the next one!</p>
                <div class="text-center mb-12">
                    <button class="new-auction-btn bg-indigo-600 text-white px-8 py-3 rounded-lg hover:bg-indigo-700 transition text-lg font-semibold" data-game="badminton">Launch New Auction Tool</button>
                </div>
                 <div class="bg-white p-8 rounded-lg shadow-lg text-center">
                      <h4 class="text-xl font-semibold text-center mb-6">Past Results</h4>
                      <p class="text-gray-500">No past matches recorded.</p>
                 </div>
            </div>
        </section>

        <!-- Auction Tool Pages -->
        <section id="volleyball-auction-tool" class="page-section py-20 bg-gray-900 text-white"><div class="container mx-auto px-6"><button class="back-to-games-btn mb-8 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600">&larr; Back to Games Hub</button><div id="auction-app-volleyball"></div></div></section>
        <section id="cricket-auction-tool" class="page-section py-20 bg-gray-900 text-white"><div class="container mx-auto px-6"><button class="back-to-games-btn mb-8 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600">&larr; Back to Games Hub</button><div id="auction-app-cricket"></div></div></section>
        <section id="badminton-auction-tool" class="page-section py-20 bg-gray-900 text-white"><div class="container mx-auto px-6"><button class="back-to-games-btn mb-8 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600">&larr; Back to Games Hub</button><div id="auction-app-badminton"></div></div></section>

        <!-- Research Page -->
        <section id="research" class="page-section py-20 bg-white"><div class="container mx-auto px-6 text-center"><h2 class="text-4xl font-bold text-center mb-12">Research</h2><p class="text-gray-600 max-w-3xl mx-auto">Information about our lab's research projects will be available here soon.</p></div></section>

        <!-- People Page -->
        <section id="people" class="page-section py-20 bg-gray-50"><div class="container mx-auto px-6"><h2 class="text-4xl font-bold text-center mb-12">Meet the Members</h2><div id="people-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8"></div></div></section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-gray-400 py-8"><div class="container mx-auto px-6 text-center"><p>&copy; <span id="current-year"></span> HWM Lab, IIT Gandhinagar. All rights reserved.</p></div></footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- NAVIGATION LOGIC ---
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-section');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const gameDetailsButtons = document.querySelectorAll('.game-details-btn');
            const backToGamesBtns = document.querySelectorAll('.back-to-games-btn');
            const newAuctionBtns = document.querySelectorAll('.new-auction-btn');

            function showPage(targetId) {
                pages.forEach(page => page.classList.remove('active'));
                const targetPage = document.getElementById(targetId);
                if (targetPage) targetPage.classList.add('active');
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.target === targetId || (targetId.includes('details') && link.dataset.target === 'games') || (targetId.includes('auction-tool') && link.dataset.target === 'games')) {
                        link.classList.add('active');
                    }
                });
                window.scrollTo(0, 0);
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = e.currentTarget.dataset.target;
                    showPage(targetId);
                    if (!mobileMenu.classList.contains('hidden')) mobileMenu.classList.add('hidden');
                });
            });

            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            gameDetailsButtons.forEach(btn => btn.addEventListener('click', (e) => showPage(`${e.currentTarget.dataset.game}-details`)));
            backToGamesBtns.forEach(btn => btn.addEventListener('click', () => showPage('games')));
            newAuctionBtns.forEach(btn => btn.addEventListener('click', (e) => showPage(`${e.currentTarget.dataset.game}-auction-tool`)));

            document.getElementById('current-year').textContent = new Date().getFullYear();

            // --- DATA ---
            const allMembers = [
                { name: "Snehal", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/snehal.jpg", role: "Referee" },
                { name: "Akash Yadav", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/akash.jpg", role: "Captain" },
                { name: "Sushil Kumar Jaiswal", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sus.jpg", role: "Captain" },
                { name: "Sunil Kumar", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sunil.jpg", role: "Player" },
                { name: "Indra M. Tripathi", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/imt2.jpg", role: "Player" },
                { name: "Kapil", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/kapil.jpg", role: "Player" },
                { name: "Bhanu", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/bhanu.jpg", role: "Player" },
                { name: "Sumit", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sum.jpg", role: "Player" },
                { name: "Rajesh", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/rj.jpg", role: "Player" },
                { name: "Pradeep", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/pradeep.jpg", role: "Player" },
                { name: "Jitendra", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/jitu.jpg", role: "Player" },
                { name: "Indrajeet", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/indra.jpg", role: "Player" }
            ];

            const team1ResultData = {
                name: "SKY",
                captain: { name: "Akash Yadav", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/akash.jpg", position: "Side Hitter (Attacker)" },
                players: [
                    { name: "Pradeep", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/pradeep.jpg", position: "Side Hitter (Attacker)" },
                    { name: "Sumit", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sum.jpg", position: "Middle Blocker (Net)" },
                    { name: "Kapil", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/kapil.jpg", position: "Center" }
                ]
            };

            const team2ResultData = {
                name: "Magnet",
                captain: { name: "Sushil Kumar Jaiswal", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sus.jpg", position: "Right-Side Hitter" },
                players: [
                    { name: "Sunil Kumar", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sunil.jpg", position: "Left-Side Hitter" },
                    { name: "Indra M. Tripathi", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/imt2.jpg", position: "Center" },
                    { name: "Rajesh", image: "https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/rj.jpg", position: "Middle Blocker" }
                ]
            };
            
            const peopleGrid = document.getElementById('people-grid');
            const v_team1ResultEl = document.getElementById('v-team1Result');
            const v_team2ResultEl = document.getElementById('v-team2Result');

            function populateStaticContent() {
                peopleGrid.innerHTML = allMembers.map(person => `<div class="text-center"><img src="${person.image}" alt="${person.name}" class="w-24 h-24 rounded-full mb-2 object-cover border-2 border-gray-200 mx-auto"><span class="font-semibold">${person.name}</span><span class="block text-sm text-gray-500">${person.role}</span></div>`).join('');
                v_team1ResultEl.innerHTML = `<h3 class="text-xl font-bold text-cyan-500 mb-4">Team: ${team1ResultData.name}</h3><ul class="space-y-2 text-sm"><li class="flex items-center gap-2 py-1"><img src="${team1ResultData.captain.image}" alt="${team1ResultData.captain.name}" class="w-8 h-8 rounded-full object-cover"><span>${team1ResultData.captain.name} <span class="text-cyan-500 font-semibold">(Captain)</span><br><span class="text-xs text-gray-500">${team1ResultData.captain.position}</span></span></li>${team1ResultData.players.map(p => `<li class="flex items-center gap-2 py-1"><img src="${p.image}" alt="${p.name}" class="w-8 h-8 rounded-full object-cover"><span>${p.name}<br><span class="text-xs text-gray-500">${p.position}</span></span></li>`).join('')}</ul>`;
                v_team2ResultEl.innerHTML = `<h3 class="text-xl font-bold text-orange-500 mb-4">Team: ${team2ResultData.name}</h3><ul class="space-y-2 text-sm"><li class="flex items-center gap-2 py-1"><img src="${team2ResultData.captain.image}" alt="${team2ResultData.captain.name}" class="w-8 h-8 rounded-full object-cover"><span>${team2ResultData.captain.name} <span class="text-orange-500 font-semibold">(Captain)</span><br><span class="text-xs text-gray-500">${team2ResultData.captain.position}</span></span></li>${team2ResultData.players.map(p => `<li class="flex items-center gap-2 py-1"><img src="${p.image}" alt="${p.name}" class="w-8 h-8 rounded-full object-cover"><span>${p.name}<br><span class="text-xs text-gray-500">${p.position}</span></span></li>`).join('')}</ul>`;
            }
            populateStaticContent();

            // --- AUCTION TOOL FACTORY ---
            function createAuctionApp(containerId, gameName, gameEmoji) {
                const container = document.getElementById(containerId);
                if (!container) return;
                
                const auctionHTML = `
                    <h2 class="text-4xl font-bold text-center mb-12">${gameEmoji} Live ${gameName} Auction ${gameEmoji}</h2>
                    <div id="app-${containerId}">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div class="md:col-span-1 p-4 rounded-lg team-card flex flex-col items-center justify-center"><img src="https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/snehal.jpg" alt="Referee" class="w-20 h-20 rounded-full mb-2 object-cover border-2 border-pink-400"><h3 class="text-xl font-semibold text-gray-300">Auctioneer & Referee</h3><p class="text-2xl font-bold text-pink-400 mt-1">üßë‚Äç‚öñÔ∏è Snehal</p></div>
                            <div class="md:col-span-2 p-4 rounded-lg team-card flex flex-col sm:flex-row items-center justify-around gap-4"><button id="nextPlayerBtn-${containerId}" class="btn w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg">Start Auction</button><button id="resetBtn-${containerId}" class="btn w-full sm:w-auto bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg">Reset Auction</button></div>
                        </div>
                        <div id="auction-arena-${containerId}" class="auction-card rounded-lg p-6 mb-8 text-center hidden">
                            <div class="flex justify-between items-center mb-4"><h2 class="text-2xl font-bold text-yellow-300">üî• ON THE BLOCK üî•</h2><h3 class="text-xl font-semibold">Round: <span id="currentRoundDisplay-${containerId}">1</span></h3></div>
                            <div id="currentPlayer-${containerId}" class="mb-4"></div>
                            <div class="timer-container"><svg class="timer-svg" viewBox="0 0 36 36"><path class="timer-circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path><path id="timer-progress-${containerId}" class="timer-circle-progress" stroke-dasharray="100, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path></svg><span id="timer-text-${containerId}" class="timer-text">10</span></div>
                            <div class="text-4xl font-bold mb-4" id="currentBid-${containerId}">Base Price: 100</div>
                            <div id="auction-controls-${containerId}" class="flex flex-col sm:flex-row justify-center items-center gap-4"><button id="sellPlayerBtn-${containerId}" class="btn bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg" disabled>SOLD!</button><button id="skipPlayerBtn-${containerId}" class="btn bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg" disabled>Skip Player</button></div>
                            <div id="referee-controls-${containerId}" class="hidden flex-col sm:flex-row justify-center items-center gap-4"><button id="confirmSaleBtn-${containerId}" class="btn bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg">Confirm Sale</button><button id="restartTimerBtn-${containerId}" class="btn bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg">Restart Timer</button></div>
                        </div>
                        <div id="statusMessage-${containerId}" class="text-center text-lg font-medium text-green-400 mb-8 h-8"></div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                            <div id="team1-${containerId}" class="team-card p-6 rounded-lg"><div class="flex items-center gap-4 mb-4"><img src="https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/akash.jpg" alt="Captain 1" class="w-16 h-16 rounded-full object-cover border-2 border-cyan-400"><h2 class="text-2xl font-bold text-cyan-400">Team: SKY</h2></div><div class="mb-4"><p class="font-semibold">Budget: <span id="team1Budget-${containerId}" class="text-yellow-400">5000</span></p></div><div class="mb-4 flex flex-wrap gap-2 justify-center">${[100,200,250,500].map(a => `<button data-team="1" data-amount="${a}" class="btn bid-btn bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-3 rounded text-sm" disabled>+${a}</button>`).join('')}</div><h3 class="font-semibold mb-2">Players:</h3><ul id="team1Players-${containerId}" class="space-y-2"></ul></div>
                            <div id="team2-${containerId}" class="team-card p-6 rounded-lg"><div class="flex items-center gap-4 mb-4"><img src="https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sus.jpg" alt="Captain 2" class="w-16 h-16 rounded-full object-cover border-2 border-orange-400"><h2 class="text-2xl font-bold text-orange-400">Team: Magnet</h2></div><div class="mb-4"><p class="font-semibold">Budget: <span id="team2Budget-${containerId}" class="text-yellow-400">5000</span></p></div><div class="mb-4 flex flex-wrap gap-2 justify-center">${[100,200,250,500].map(a => `<button data-team="2" data-amount="${a}" class="btn bid-btn bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-3 rounded text-sm" disabled>+${a}</button>`).join('')}</div><h3 class="font-semibold mb-2">Players:</h3><ul id="team2Players-${containerId}" class="space-y-2"></ul></div>
                        </div>
                        <div><h2 class="text-2xl font-bold text-center mb-4">Player Pools</h2><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div><h3 class="text-lg font-semibold text-center mb-2 text-gray-400">Round 1 Pool</h3><div id="round1Players-${containerId}" class="player-pool-card p-4 rounded-lg grid grid-cols-2 sm:grid-cols-3 gap-4"></div></div><div><h3 class="text-lg font-semibold text-center mb-2 text-gray-400">Round 2 Pool</h3><div id="round2Players-${containerId}" class="player-pool-card p-4 rounded-lg grid grid-cols-2 sm:grid-cols-3 gap-4"></div></div><div><h3 class="text-lg font-semibold text-center mb-2 text-gray-400">Round 3 Pool</h3><div id="round3Players-${containerId}" class="player-pool-card p-4 rounded-lg grid grid-cols-2 sm:grid-cols-3 gap-4"></div></div></div></div>
                    </div>
                `;
                container.innerHTML = auctionHTML;
                
                (function(id) {
                    const cont = document.getElementById(`app-${id}`);
                    const initialPlayers = allMembers.filter(m => m.role === 'Player');
                    const initialBudget = 5000, basePrice = 100, auctionTime = 10;
                    let state = {}, speechVoice = null;
                    const roundPools = { 1: cont.querySelector(`#round1Players-${id}`), 2: cont.querySelector(`#round2Players-${id}`), 3: cont.querySelector(`#round3Players-${id}`) };
                    const team1El = cont.querySelector(`#team1-${id}`), team2El = cont.querySelector(`#team2-${id}`);
                    const team1BudgetEl = cont.querySelector(`#team1Budget-${id}`), team2BudgetEl = cont.querySelector(`#team2Budget-${id}`);
                    const team1PlayersEl = cont.querySelector(`#team1Players-${id}`), team2PlayersEl = cont.querySelector(`#team2Players-${id}`);
                    const currentPlayerContainer = cont.querySelector(`#currentPlayer-${id}`), currentBidEl = cont.querySelector(`#currentBid-${id}`);
                    const nextPlayerBtn = cont.querySelector(`#nextPlayerBtn-${id}`), sellPlayerBtn = cont.querySelector(`#sellPlayerBtn-${id}`);
                    const skipPlayerBtn = cont.querySelector(`#skipPlayerBtn-${id}`), resetBtn = cont.querySelector(`#resetBtn-${id}`);
                    const bidBtns = cont.querySelectorAll('.bid-btn'), statusMessageEl = cont.querySelector(`#statusMessage-${id}`);
                    const auctionArena = cont.querySelector(`#auction-arena-${id}`), timerProgress = cont.querySelector(`#timer-progress-${id}`);
                    const timerText = cont.querySelector(`#timer-text-${id}`), currentRoundDisplay = cont.querySelector(`#currentRoundDisplay-${id}`);
                    const auctionControls = cont.querySelector(`#auction-controls-${id}`), refereeControls = cont.querySelector(`#referee-controls-${id}`);
                    const confirmSaleBtn = cont.querySelector(`#confirmSaleBtn-${id}`), restartTimerBtn = cont.querySelector(`#restartTimerBtn-${id}`);
                    const CIRCLE_LENGTH = 100;
                    let soundsReady = false;
                    const bidSound = new Tone.Synth({ oscillator: { type: "sine" }, envelope: { attack: 0.005, decay: 0.1, sustain: 0.3, release: 1 } }).toDestination();
                    const soldSound = new Tone.Synth({ oscillator: { type: "triangle" }, envelope: { attack: 0.005, decay: 0.2, sustain: 0.5, release: 1 } }).toDestination();
                    const tickSound = new Tone.MembraneSynth().toDestination();
                    document.body.addEventListener('click', async () => { if (!soundsReady) { await Tone.start(); soundsReady = true; } }, { once: true });
                    function loadVoices() { const voices = speechSynthesis.getVoices(); speechVoice = voices.find(v => v.name.includes('Female') && v.lang.includes('en')) || voices[0]; }
                    speechSynthesis.onvoiceschanged = loadVoices; loadVoices();
                    function initializeState() { stopTimer(); state = { rounds: { 1: JSON.parse(JSON.stringify(initialPlayers)), 2: [], 3: [] }, currentRound: 1, teams: { 1: { name: "SKY", budget: initialBudget, players: [] }, 2: { name: "Magnet", budget: initialBudget, players: [] } }, currentPlayer: null, currentBid: 0, highestBidder: null, auctionInProgress: false, biddingTurn: Math.ceil(Math.random() * 2), timerId: null, timeLeft: auctionTime }; renderAll(); }
                    function renderAll() { renderPlayerPools(); renderTeams(); renderAuctionArena(); updateBidButtons(); }
                    function renderPlayerPools() { for (const round in roundPools) { roundPools[round].innerHTML = ''; state.rounds[round].forEach(player => { const el = document.createElement('div'); el.className = 'player-card p-2 rounded-lg text-center text-sm flex flex-col items-center'; el.innerHTML = `<img src="${player.image}" alt="${player.name}" class="w-16 h-16 rounded-full mb-1 object-cover border-2 border-gray-600"><span class="font-semibold text-xs">${player.name}</span>`; roundPools[round].appendChild(el); }); } }
                    function renderTeams() { team1BudgetEl.textContent = state.teams[1].budget; const cap1HTML = `<li class="flex items-center gap-2 py-1"><img src="https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/akash.jpg" alt="Akash Yadav" class="w-8 h-8 rounded-full object-cover border-2 border-cyan-400"><span>Akash Yadav <span class="text-cyan-400 font-semibold">(Captain)</span></span></li>`; team1PlayersEl.innerHTML = cap1HTML + state.teams[1].players.map(p => `<li class="flex items-center gap-2 py-1"><img src="${p.image}" alt="${p.name}" class="w-8 h-8 rounded-full object-cover border-2 border-gray-600"><span>${p.name} <span class="text-gray-400">(${p.price})</span></span></li>`).join(''); team2BudgetEl.textContent = state.teams[2].budget; const cap2HTML = `<li class="flex items-center gap-2 py-1"><img src="https://raw.githubusercontent.com/sunilkumardhayal/HWM_Volleyball/main/sus.jpg" alt="Sushil Kumar Jaiswal" class="w-8 h-8 rounded-full object-cover border-2 border-orange-400"><span>Sushil Kumar Jaiswal <span class="text-orange-400 font-semibold">(Captain)</span></span></li>`; team2PlayersEl.innerHTML = cap2HTML + state.teams[2].players.map(p => `<li class="flex items-center gap-2 py-1"><img src="${p.image}" alt="${p.name}" class="w-8 h-8 rounded-full object-cover border-2 border-gray-600"><span>${p.name} <span class="text-gray-400">(${p.price})</span></span></li>`).join(''); team1El.classList.toggle('highest-bidder-glow', state.highestBidder === 1); team2El.classList.toggle('highest-bidder-glow', state.highestBidder === 2); }
                    function renderAuctionArena() { if (state.currentPlayer) { auctionArena.classList.remove('hidden'); currentRoundDisplay.textContent = state.currentRound; currentPlayerContainer.innerHTML = `<img src="${state.currentPlayer.image}" alt="${state.currentPlayer.name}" class="w-24 h-24 rounded-full mx-auto mb-2 object-cover border-4 border-indigo-500"><p class="text-4xl font-extrabold text-white">${state.currentPlayer.name}</p>`; currentBidEl.textContent = state.currentBid === 0 ? `Base Price: ${basePrice}` : `Current Bid: ${state.currentBid}`; updateTimerDisplay(auctionTime); } else { auctionArena.classList.add('hidden'); } }
                    function announce(text) { speechSynthesis.cancel(); const u = new SpeechSynthesisUtterance(text); if (speechVoice) u.voice = speechVoice; u.rate = 0.8; u.pitch = 1.1; speechSynthesis.speak(u); }
                    function selectNextPlayer() { while (state.rounds[state.currentRound].length === 0 && state.currentRound < 3) { state.currentRound++; showStatus(`Starting Round ${state.currentRound}!`, "info"); } const pool = state.rounds[state.currentRound]; if (pool.length === 0) { showStatus("All players auctioned!", "info", 5000); endAuction(); return; } const idx = Math.floor(Math.random() * pool.length); state.currentPlayer = pool.splice(idx, 1)[0]; state.currentBid = 0; state.highestBidder = null; state.auctionInProgress = true; announce(`Next player... ${state.currentPlayer.name.replace(/ /g, '... ')}`); showStatus(`${state.currentPlayer.name} is up for auction!`, "normal"); renderAll(); sellPlayerBtn.disabled = true; skipPlayerBtn.disabled = false; startTimer(); }
                    function placeBid(teamId, amount) { if (soundsReady) bidSound.triggerAttackRelease("C5", "8n"); const team = state.teams[teamId]; const newBid = state.currentBid === 0 ? Math.max(basePrice, amount) : state.currentBid + amount; if (team.budget < newBid) { showStatus(`Team ${team.name} has insufficient funds!`, "error"); return; } if (state.biddingTurn != teamId && state.highestBidder !== null) { showStatus(`It's not your turn to bid!`, "error"); return; } state.currentBid = newBid; state.highestBidder = teamId; state.biddingTurn = teamId == 1 ? 2 : 1; showStatus(`Team ${team.name} bids ${state.currentBid}!`, "normal"); renderAll(); sellPlayerBtn.disabled = false; skipPlayerBtn.disabled = true; startTimer(); }
                    function updateBidButtons() { if (!state.auctionInProgress) { bidBtns.forEach(btn => btn.disabled = true); return; } bidBtns.forEach(btn => { const teamId = btn.dataset.team; const amount = parseInt(btn.dataset.amount, 10); const team = state.teams[teamId]; const newBid = state.currentBid === 0 ? Math.max(basePrice, amount) : state.currentBid + amount; btn.disabled = (state.biddingTurn != teamId && state.highestBidder !== null) || team.budget < newBid; }); }
                    function sellPlayer() { stopTimer(); if (!state.highestBidder) { showStatus("No bids placed!", "error"); return; } if (soundsReady) soldSound.triggerAttackRelease("G5", "8n", Tone.now() + 0.2); launchConfetti(); const winId = state.highestBidder; const winTeam = state.teams[winId]; const price = state.currentBid; winTeam.budget -= price; winTeam.players.push({ name: state.currentPlayer.name, price: price, image: state.currentPlayer.image }); const msg = `${state.currentPlayer.name}... sold to Team ${winTeam.name}... for ${price}!`; showStatus(msg.replace(/\.\.\./g, ''), "success", 5000); announce(msg); resetAuctionRound(); }
                    function skipPlayer(isAuto = false) { stopTimer(); const player = state.currentPlayer; let msg; if (state.currentRound < 3) { state.rounds[state.currentRound + 1].push(player); msg = isAuto ? `${player.name} unsold, moves to Round ${state.currentRound + 1}.` : `${player.name} skipped, moves to Round ${state.currentRound + 1}.`; showStatus(msg, "info", 5000); } else { const t1c = state.teams[1].players.length; const t2c = state.teams[2].players.length; let assignId = (t1c < t2c) ? 1 : (t2c < t1c) ? 2 : (state.teams[1].budget >= state.teams[2].budget ? 1 : 2); const assignTeam = state.teams[assignId]; assignTeam.budget -= basePrice; assignTeam.players.push({ name: player.name, price: basePrice, image: player.image }); msg = `${player.name} auto-assigned to Team ${assignTeam.name} for ${basePrice}.`; showStatus(msg, "info", 5000); announce(msg.replace(/\.\.\./g, '')); } resetAuctionRound(); }
                    function resetAuctionRound() { state.currentPlayer = null; state.currentBid = 0; state.highestBidder = null; state.auctionInProgress = false; skipPlayerBtn.disabled = true; auctionControls.classList.remove('hidden'); auctionControls.classList.add('flex'); refereeControls.classList.add('hidden'); renderAll(); }
                    function endAuction() { stopTimer(); state.auctionInProgress = false; updateBidButtons(); nextPlayerBtn.disabled = true; sellPlayerBtn.disabled = true; skipPlayerBtn.disabled = true; const t1s = initialBudget - state.teams[1].budget; const t2s = initialBudget - state.teams[2].budget; showStatus(`Auction Over! Team 1 spent ${t1s}. Team 2 spent ${t2s}.`, "info", 10000); }
                    function updateTimerDisplay(time) { const frac = time / auctionTime; const offset = 100 - frac * 100; timerProgress.style.strokeDashoffset = offset; timerText.textContent = time; if (time <= 8) { if (soundsReady && time > 0) tickSound.triggerAttackRelease("C2", "8n"); timerProgress.style.stroke = "#ef4444"; } else { timerProgress.style.stroke = "#4f46e5"; } }
                    function handleTimerEnd() { stopTimer(); showStatus("Time's up! Referee's decision.", "info"); auctionControls.classList.add('hidden'); refereeControls.classList.remove('hidden'); refereeControls.classList.add('flex'); confirmSaleBtn.textContent = state.highestBidder ? "Confirm Sale" : "Confirm Skip/Assign"; bidBtns.forEach(btn => btn.disabled = true); }
                    function startTimer() { stopTimer(); state.timeLeft = auctionTime; updateTimerDisplay(state.timeLeft); state.timerId = setInterval(() => { state.timeLeft--; updateTimerDisplay(state.timeLeft); if (state.timeLeft <= 0) handleTimerEnd(); }, 1000); }
                    function stopTimer() { clearInterval(state.timerId); state.timerId = null; }
                    function showStatus(message, type = 'normal', duration = 3000) { statusMessageEl.textContent = message; statusMessageEl.className = 'status-message text-center text-lg font-medium mb-8 h-8'; switch (type) { case 'success': statusMessageEl.classList.add('text-green-400'); break; case 'error': statusMessageEl.classList.add('text-red-400'); break; case 'info': statusMessageEl.classList.add('text-blue-400'); break; default: statusMessageEl.classList.add('text-gray-300'); } setTimeout(() => { if (statusMessageEl.textContent === message) statusMessageEl.textContent = ''; }, duration); }
                    function launchConfetti() { for (let i = 0; i < 100; i++) { const c = document.createElement('div'); c.className = 'confetti'; c.style.left = `${Math.random() * 100}vw`; c.style.backgroundColor = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722'][Math.floor(Math.random() * 16)]; c.style.animationDelay = `${Math.random() * 2}s`; document.body.appendChild(c); setTimeout(() => c.remove(), 3000); } }
                    nextPlayerBtn.addEventListener('click', selectNextPlayer);
                    sellPlayerBtn.addEventListener('click', sellPlayer);
                    skipPlayerBtn.addEventListener('click', () => skipPlayer(false));
                    resetBtn.addEventListener('click', () => { if (confirm("Are you sure?")) { initializeState(); nextPlayerBtn.disabled = false; showStatus("Auction reset.", "info"); } });
                    bidBtns.forEach(btn => btn.addEventListener('click', (e) => placeBid(e.target.dataset.team, parseInt(e.target.dataset.amount))));
                    confirmSaleBtn.addEventListener('click', () => { if (state.highestBidder) sellPlayer(); else skipPlayer(true); });
                    restartTimerBtn.addEventListener('click', () => { auctionControls.classList.remove('hidden'); auctionControls.classList.add('flex'); refereeControls.classList.add('hidden'); updateBidButtons(); startTimer(); });
                    initializeState();
                })(containerId);
            }

            createAuctionApp('auction-app-volleyball', 'Volleyball', 'üèê');
            createAuctionApp('auction-app-cricket', 'Cricket', 'üèè');
            createAuctionApp('auction-app-badminton', 'Badminton', 'üè∏');
        });
    </script>
</body>
</html>
